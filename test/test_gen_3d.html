<html>
  <head>
    <script src="../lib/p5-test.js"></script>
    <script>
      let angle = 0;
      let durl = 0;
      let framerate = 30;
      let slowdown = 150;
      let endpoint = 'http://fbc6-35-240-144-196.ngrok-free.app'
      time = 0
      function setup() {
        frameRate(framerate/slowdown)
        createCanvas(512, 512, WEBGL);
        pg = createGraphics(512, 512, WEBGL)
      }

      async function draw() {
        time = time +1
        background(255);
        
        // pg.push();
        pg.clear();
        pg.normalMaterial();
        pg.box(100);
        pg.rotateX(0.03);
        pg.rotateY(0.03);
        pg.rotateZ(0.03);
        
        
        angle = angle +0.01;
        // image(pg, -255,-255)
        await generate(this, endpoint, pg, {'target':this, 'x': -256, 'y':-256, 'width': 512, 'height': 512}, 'a colorful rising fire on a cube', negative_prompt='low quality, blurry', prompt_weights=[], negative_prompt_weights=[], strength=0.8, cfg=12, sampler='DDIM', seed=87, steps=16, segment=false,)
        fill(255);
      }
    </script>
  </head>
  <body>
    <main>
    </main>
  </body>
</html>